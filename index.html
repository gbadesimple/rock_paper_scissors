<!DOCTYPE html>

<html lang="en-US">

    <head>
        <meta charset="UTF-8">
        <title> Rock Paper Scissors </title>
    </head>
    <style>
        body {
            text-align: center;
            color: orangered;
            font: verdana, 'times new romans', arial;
        }
        #div {
            text-align: center;
        }
        .button {
            display: inline;
            text-align: center;
        }
    </style>

<body>
    <h1> Let's play: Rock Paper Scissors !</h1>
    <p> Instruction: You are going to play this game against the computer <br> 
        by selecting one of the options below with the buttons. <br> The Winner is declared at the end. <br> Good Luck!
    </p>
<hr>
    <br>

    <div id='div'> </div>

    <button id ='rock'> ROCK </button> &nbsp; 
    <button id ='paper'> PAPER </button> &nbsp;
    <button id ='scissors'> SCISSORS </button>

    

    <script>

            let playerScore = 0;
            let computerScore = 0;

            const myScore = document.querySelector('.myScore');
            const compScore = document.querySelector('.compScore');


            const result = document.querySelector('.results');
            const buttons = document.querySelectorAll('button');

            const announcementText = document.querySelector('#div');
            const announcement = document.querySelector('.announcement');
            const replayButton = document.createElement('button');
    
            

            buttons.forEach((button) => {
                button.addEventListener('click', (e) => {
                playerSelection = button.id;
                computerSelection = computerPlay();
                        
                if (!GameOver()) {
                    startRound();
                }
                }); 
            });
        
        
            function GameOver() {
                return playerScore === 5 || computerScore === 5
            }
        
            function reset() {
                replayButton.innerHTML = 'C\'mon dude! let\'s play again. ';
                announcement.appendChild(replayButton);
        
                replayButton.addEventListener('click', () => {
                    announcementText.textContent = 'First to 5 wins!';
                    result.textContent = 'Please start the game!';
                    playerScore = 0;
                    computerScore = 0;
                    myScore.textContent = 'My score is 0';
                    compScore.textContent = 'Computer score is 0';
                    announcement.removeChild(replayButton);
                });
            }
        
        
            function startRound() {
                playRound();
        
                if (GameOver()) {
                    winner();
                }
            } 
        
            function winner() {
                if (playerScore > computerScore) {
                    announcementText.textContent = 'Game over, you beat computer to pop!';
                    reset();
                } else if (playerScore < computerScore) {
                    announcementText.textContent = 'Game over, Ooooh no - you loss this game!';
                    reset();
                }
            }     
        


        // computerPlay function ROCK PAPER SCISSORS

        function computerPlay() {
            let myArray = ['Rock', 'Paper', 'Scissors'];
            let arrayValue = myArray[Math.floor(Math.random() * myArray.length)]
            return arrayValue.toLowerCase();
        } console.log(computerPlay());
    
        
        function playRound() {
                    
            if ( playerSelection === 'rock' && computerSelection === 'paper') {
                computerScore++;
                result.textContent = 'You Lose! Paper beats Rock';
                compScore.textContent = 'Computer = ' + computerScore;
    
            } else if( playerSelection === 'rock' && computerSelection === 'scissors') {
                playerScore++;
                result.textContent = 'Hmm... You Win! Rock crushes scissors to powder';
                myScore.textContent = 'Player = ' + playerScore;
    
            } else if( playerSelection === 'paper' && computerSelection === 'scissors') {
                computerScore++;
                result.textContent = 'You Lose! Scissors cuts paper to pieces';
                compScore.textContent = 'Computer = ' + computerScore;
    
            } else if ( playerSelection === 'paper' && computerSelection === 'rock') {
                playerScore++;
                result.textContent = 'You win! Paper beats rock';
                myScore.textContent = 'Player =' + playerScore;
    
            } else if ( playerSelection === 'scissors' && computerSelection === 'rock') {
                computerScore++;
                result.textContent = 'You Lose! Rock crushes scissors in a grand style';
                compScore.textContent = 'Computer = ' + computerScore;
    
            } else if ( playerSelection === 'scissors' && computerSelection === 'paper') {
                playerScore++;
                result.textContent = 'Wow.. You Win! Scissors cuts paper';
                myScore.textContent = 'Player = ' + playerScore;
    
            } else {
                result.textContent = 'It\'s a tie, try harder dude!';
            }
        };
        const playerSelection = 'scissors';
        console.log( playRound(playerSelection, computerSelection = computerPlay() ) );


        


        
    




    
    </script>






</body>
</html>